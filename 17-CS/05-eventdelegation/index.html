<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Delegation</title>
</head>
<body>
    <div class="buttonClass">
        <button data-buttonmessage = "Hi">HI</button>
        <button data-buttonmessage = "Green">Green</button>
        <button data-buttonmessage = "Tacos">Tacos</button>
        <button data-buttonmessage = "Spatula">Spatula</button>
        <button data-buttonmessage = "Cheese">Cheese</button>
    </div>  
    <h1></h1>
    <br><br>
 
    <script>
        const buttons = document.querySelectorAll("button");
        const totalMessage = document.querySelector("h1");

        function clickHandler(){
            console.log("Running clickHandler");
            //const buttonmessage = e.target.getAttribute("data-buttonmessage");
            let ttlMessage = "";

            return function(e){
                if (e.target.getAttribute("data-buttonmessage")){

                    const buttonmessage = e.target.getAttribute("data-buttonmessage");
            
                    ttlMessage = ttlMessage + buttonmessage + " ";
                    
                    totalMessage.textContent = ttlMessage;
                }
            }
        }

        // for (let i = 0; i < buttons.length; i++ ){
        //     const buttonMessage = buttons[i].dataset.buttonmessage;
        //     buttons[i].addEventListener('click', clickHandler())
        // }
        buttonClass = document.querySelector(".buttonClass");
        buttonClass.addEventListener('click', clickHandler());

    </script>
</body>
</html>